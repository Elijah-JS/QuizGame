"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[71],{452:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var r=s(43),n=s(575),i=s(19),o=s(935);function d(e){return e?"tf"===e.type?e.answerBool?"True":"False":"mc"===e.type&&Array.isArray(e.options)?null!==(t=null===(s=e.options)||void 0===s?void 0:s[e.answerIndex])&&void 0!==t?t:"":(e.expected||"").toString():"";var t,s}const a=[{keys:["autism","autistic","sensory","noise"],items:["Punish stimming behaviors","Increase background noise to desensitize","Force eye contact throughout activity","Ignore sensory breaks","Remove all routines and visuals"]},{keys:["diabetes"],items:["Skip pre-activity snack","Add unplanned high-intensity intervals","Never check blood glucose around activity","Avoid carrying fast-acting carbs"]},{keys:["cardio","cardiovascular","hypertension","heart"],items:["Maximal testing session day one","Sustained heavy isometrics","No warm-up or cool-down","Hold breath during lifts (Valsalva)"]},{keys:["ms","multiple sclerosis"],items:["Exercise in a hot gym without cooling","Long, continuous bouts without breaks","Avoid hydration to reduce bathroom trips","Schedule mid-afternoon in peak fatigue"]},{keys:["blind","visual","visually impaired"],items:["Start with free weights without orientation","No tactile or auditory cues","Randomize equipment placement daily","Spotter stands silent and far away"]}],l=["Ignore symptoms and continue","Increase intensity immediately","One-size-fits-all program","No modifications/controls needed","Delay communication with caregivers","Skip safety briefing"];var c=s(579);function m(e,t){var s;if(!e)return{mode:"empty"};if("tf"===e.type&&"boolean"===typeof e.answerBool)return{mode:"tf"};if("mc"===e.type&&Array.isArray(e.options)&&e.options.length>=2)return{mode:"mc"};const r=function(e,t){var s;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;const n=null===(s=d(e))||void 0===s?void 0:s.trim();if(!n)return null;const i=[];for(const o of t){var c;const e=null===(c=d(o))||void 0===c?void 0:c.trim();e&&e.toLowerCase()!==n.toLowerCase()&&i.push(e)}const m=a.find(t=>function(){let e=arguments.length>1?arguments[1]:void 0;const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").toLowerCase();return e.keys.some(e=>t.includes(e))}(e.prompt,t)),u=m?m.items:[],x=Array.from(new Set([...i,...u,...l])).filter(e=>e&&e.length>=3&&e.length<=160&&e.toLowerCase()!==n.toLowerCase()),h=Math.max(2,Math.min(r-1,x.length));if(h<2)return null;const b=(0,o.k)(x).slice(0,h),p=(0,o.k)([n,...b]),v=p.findIndex(e=>e===n);return{options:p,answerIndex:v}}(e,t,4);if(r&&Array.isArray(r.options)&&r.options.length>=2)return{mode:"mc-auto",built:r};return{mode:"reveal",expected:null!==(s=null===e||void 0===e?void 0:e.expected)&&void 0!==s?s:"mc"===(null===e||void 0===e?void 0:e.type)&&"number"===typeof(null===e||void 0===e?void 0:e.answerIndex)&&null!==e&&void 0!==e&&e.options?e.options[e.answerIndex]:void 0}}function u(){const{BANK:e,deck:t,settings:s}=(0,n.P)(),a=(0,r.useMemo)(()=>(0,i.xe)(e,t),[e,t]),l=(0,r.useMemo)(()=>(0,o.k)(a).slice(0,s.quizLength||10),[a,s.quizLength]),[u,x]=(0,r.useState)(0),[h,b]=(0,r.useState)(0),[p,v]=(0,r.useState)(!1),[w,g]=(0,r.useState)(null),[f,y]=(0,r.useState)([]),[N,j]=(0,r.useState)(!1),k=l[u],I=m(k,a);if(!l.length||!k)return(0,c.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/[0.04] p-6",children:[(0,c.jsx)("div",{className:"text-lg font-semibold mb-1",children:"No quiz cards available."}),(0,c.jsx)("div",{className:"text-sm text-zinc-300/80",children:"Try switching decks or adding more items."})]});const z=(()=>{if(N)return 100;const e=p?u+1:u;return Math.round(e/l.length*100)})(),C=e=>{const t="mc-auto"===I.mode?I.built.options[I.built.answerIndex]:d(k)||I.expected||"\u2014";y(s=>[...s,{idx:u+1,prompt:k.prompt,your:null!==e&&void 0!==e?e:"\u2014",correct:t}])},S=()=>{x(0),b(0),v(!1),g(null),y([]),j(!1)};if(N){const e=l.length,s=Math.round(h/e*100);return(0,c.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/[0.04] p-6 shadow-lg shadow-black/20",children:[(0,c.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,c.jsxs)("div",{className:"text-xs uppercase tracking-wider text-emerald-300",children:["Results \u2022 ",t]}),(0,c.jsxs)("div",{className:"text-xs px-3 py-1 rounded-full bg-white/[0.06] border border-white/10",children:["Score: ",(0,c.jsx)("span",{className:"font-semibold",children:h}),"/",e," (",s,"%)"]})]}),(0,c.jsx)("div",{className:"h-2 w-full rounded-full bg-white/5 overflow-hidden mb-5 border border-white/10",children:(0,c.jsx)("div",{className:"h-full bg-emerald-500/80 transition-all",style:{width:"100%"}})}),0===f.length?(0,c.jsx)("div",{className:"rounded-xl border border-emerald-400/30 bg-emerald-500/10 p-4",children:"\ud83c\udf89 Perfect! You didn\u2019t miss any questions."}):(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"text-sm text-zinc-300/90",children:["You missed ",(0,c.jsx)("span",{className:"font-semibold",children:f.length}),":"]}),(0,c.jsx)("ol",{className:"space-y-3",children:f.map((e,t)=>(0,c.jsxs)("li",{className:"rounded-xl border border-white/10 bg-white/[0.06] p-3",children:[(0,c.jsxs)("div",{className:"text-sm font-medium mb-1",children:[e.idx,". ",e.prompt]}),(0,c.jsxs)("div",{className:"text-xs",children:[(0,c.jsx)("span",{className:"text-zinc-400",children:"Your answer:"})," ",(0,c.jsx)("span",{className:"text-red-200",children:e.your})]}),(0,c.jsxs)("div",{className:"text-xs",children:[(0,c.jsx)("span",{className:"text-zinc-400",children:"Correct:"})," ",(0,c.jsx)("span",{className:"text-emerald-200",children:e.correct})]})]},t))})]}),(0,c.jsx)("div",{className:"mt-6 flex items-center justify-end",children:(0,c.jsx)("button",{onClick:S,className:"px-3 py-2 rounded-xl bg-emerald-500/90 hover:bg-emerald-500 text-black font-medium transition",children:"Restart"})})]})}const A=(0,c.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,c.jsxs)("div",{className:"text-xs uppercase tracking-wider text-emerald-300",children:["Quiz \u2022 ",t," \u2022 ",u+1,"/",l.length]}),(0,c.jsxs)("div",{className:"text-xs px-3 py-1 rounded-full bg-white/[0.06] border border-white/10",children:["Score: ",(0,c.jsx)("span",{className:"font-semibold",children:h}),"/",u]})]}),F=(0,c.jsx)("div",{className:"h-2 w-full rounded-full bg-white/5 overflow-hidden mb-5 border border-white/10",children:(0,c.jsx)("div",{className:"h-full bg-emerald-500/80 transition-all",style:{width:"".concat(z,"%")}})});return(0,c.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/[0.04] p-6 shadow-lg shadow-black/20",children:[A,F,(0,c.jsx)("div",{className:"text-lg font-medium leading-relaxed mb-5",children:k.prompt}),"tf"===I.mode&&(0,c.jsx)("div",{className:"flex gap-2",children:["True","False"].map(e=>{const t=e===(k.answerBool?"True":"False")?"bg-emerald-500/10 border-emerald-400/40":"bg-white/[0.06] border-white/10";return(0,c.jsx)("button",{onClick:()=>(e=>{if(p||"tf"!==I.mode)return;const t=e===k.answerBool;b(e=>e+(t?1:0)),g(e?"True":"False"),t||C(e?"True":"False"),v(!0)})("True"===e),className:"".concat("flex-1 px-3 py-2 rounded-xl border transition text-center"," ").concat(p?t:"bg-white/[0.06] border-white/10 hover:bg-white/[0.1]"),children:e},e)})}),("mc"===I.mode||"mc-auto"===I.mode)&&(0,c.jsxs)("div",{className:"space-y-2",children:[("mc"===I.mode?k.options:I.built.options).map((e,t)=>{const s="mc"===I.mode?k.answerIndex:I.built.answerIndex,r=t===s?"bg-emerald-500/10 border-emerald-400/40":w===t?"bg-red-500/10 border-red-400/40":"bg-white/[0.06] border-white/10";return(0,c.jsx)("button",{onClick:()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(p||"mc"!==I.mode&&"mc-auto"!==I.mode)return;const s=t?I.built.answerIndex:k.answerIndex,r=t?I.built.options:k.options,n=e===s;b(e=>e+(n?1:0)),g(e),n||C(null===r||void 0===r?void 0:r[e]),v(!0)}(t,"mc-auto"===I.mode),className:"".concat("w-full text-left px-3 py-2 rounded-xl border transition"," ").concat(p?r:"bg-white/[0.06] border-white/10 hover:bg-white/[0.1]"),children:e},t)}),"mc-auto"===I.mode&&(0,c.jsx)("div",{className:"text-[11px] text-zinc-400 mt-1",children:"Choices auto-generated."})]}),"reveal"===I.mode&&(0,c.jsxs)("div",{className:"rounded-xl border border-white/10 bg-white/[0.06] p-4 mt-2",children:[p?(0,c.jsx)("div",{className:"space-y-3",children:(I.expected||k.explain)&&(0,c.jsxs)(c.Fragment,{children:[I.expected&&(0,c.jsxs)("div",{className:"text-sm",children:[(0,c.jsx)("span",{className:"font-semibold",children:"Answer:"})," ",I.expected]}),k.explain&&(0,c.jsx)("div",{className:"text-sm text-zinc-300/90",children:k.explain})]})}):(0,c.jsx)("button",{onClick:()=>v(!0),className:"px-3 py-2 rounded-xl bg-white/[0.06] border border-white/10 hover:bg-white/[0.1] transition",children:"Reveal"}),!p&&(0,c.jsx)("div",{className:"mt-2 text-xs text-zinc-400",children:"This card has no preset choices."})]}),("tf"===I.mode||"mc"===I.mode||"mc-auto"===I.mode)&&p&&k.explain&&(0,c.jsx)("div",{className:"mt-5 text-sm text-zinc-300/90 bg-white/[0.05] border border-white/10 rounded-xl p-3",children:k.explain}),(0,c.jsxs)("div",{className:"mt-6 flex items-center justify-end gap-2",children:[p?(0,c.jsx)("span",{className:"text-xs px-2 py-1 rounded-full border "+("mc"===I.mode||"mc-auto"===I.mode?w===("mc"===I.mode?k.answerIndex:I.built.answerIndex)?"bg-emerald-500/10 border-emerald-400/40 text-emerald-200":"bg-red-500/10 border-red-400/40 text-red-200":"tf"===I.mode?w===(k.answerBool?"True":"False")?"bg-emerald-500/10 border-emerald-400/40 text-emerald-200":"bg-red-500/10 border-red-400/40 text-red-200":"bg-white/10 border-white/20 text-zinc-200"),children:"reveal"===I.mode?"Revealed":"mc"===I.mode||"mc-auto"===I.mode?w===("mc"===I.mode?k.answerIndex:I.built.answerIndex)?"Correct":"Incorrect":w===(k.answerBool?"True":"False")?"Correct":"Incorrect"}):(0,c.jsx)("span",{className:"text-xs text-zinc-400",children:"Pick an answer\u2026"}),(0,c.jsx)("button",{onClick:()=>{u+1>=l.length?j(!0):(x(u+1),v(!1),g(null))},className:"px-3 py-2 rounded-xl bg-emerald-500/90 hover:bg-emerald-500 text-black font-medium transition",children:u+1>=l.length?"Finish":"Next"})]})]})}},935:(e,t,s)=>{function r(e){const t=[...e];for(let s=t.length-1;s>0;s--){const e=Math.floor(Math.random()*(s+1));[t[s],t[e]]=[t[e],t[s]]}return t}s.d(t,{k:()=>r})}}]);
//# sourceMappingURL=71.5131017a.chunk.js.map