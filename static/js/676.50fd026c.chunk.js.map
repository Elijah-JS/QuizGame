{"version":3,"file":"static/js/676.50fd026c.chunk.js","mappings":"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","sources":["screens/Flashcards/Learn.js"],"sourcesContent":["import React, { useMemo, useState, useEffect, useCallback } from \"react\";\r\nimport { useStore } from \"../../context/StoreProvider\";\r\nimport { selectByDeck } from \"../../utils/scheduler\";\r\n\r\n/* ------------------------------------------\r\n   Clean, correct answer formatter for Quiz 3\r\n---------------------------------------------*/\r\nfunction getAnswerText(card) {\r\n  if (!card) return \"\";\r\n\r\n  switch (card.type) {\r\n    case \"mc\":\r\n      return card.options?.[card.answerIndex] ?? \"\";\r\n\r\n    case \"tf\":\r\n      return card.answerBool ? \"True\" : \"False\";\r\n\r\n    case \"ma\":\r\n      // Show the correct options as a list\r\n      if (!Array.isArray(card.answerIndexes)) return \"(See explanation)\";\r\n      return card.answerIndexes\r\n        .map((i) => card.options?.[i])\r\n        .filter(Boolean)\r\n        .join(\", \");\r\n\r\n    case \"sa\":\r\n      // Short-answer always uses card.answer for Quiz 3\r\n      return card.answer ?? \"(Review explanation)\";\r\n\r\n    case \"match\":\r\n      // Display pairs visually readable\r\n      if (!Array.isArray(card.pairs)) return \"(See explanation)\";\r\n      return card.pairs.map(([left, right]) => `${left} â†’ ${right}`).join(\" | \");\r\n\r\n    default:\r\n      return \"(Review the explanation)\";\r\n  }\r\n}\r\n\r\nexport default function Learn() {\r\n  const { BANK, deck } = useStore();\r\n  const pool = useMemo(() => selectByDeck(BANK, deck), [BANK, deck]);\r\n\r\n  const [index, setIndex] = useState(0);\r\n  const [flipped, setFlipped] = useState(false);\r\n\r\n  const card = pool[index] || null;\r\n\r\n  // Reset flip on card change\r\n  useEffect(() => setFlipped(false), [index, deck]);\r\n\r\n  const next = useCallback(() => {\r\n    if (!pool.length) return;\r\n    setIndex((i) => (i + 1) % pool.length);\r\n  }, [pool.length]);\r\n\r\n  const back = useCallback(() => {\r\n    if (!pool.length) return;\r\n    setIndex((i) => (i - 1 + pool.length) % pool.length);\r\n  }, [pool.length]);\r\n\r\n  // Keyboard shortcuts: Space = flip, Right = next, Left = back\r\n  useEffect(() => {\r\n    const onKey = (e) => {\r\n      if (e.target.tagName === \"TEXTAREA\" || e.target.tagName === \"INPUT\") return;\r\n\r\n      if (e.code === \"Space\") {\r\n        e.preventDefault();\r\n        setFlipped((f) => !f);\r\n      } else if (e.code === \"ArrowRight\") {\r\n        next();\r\n      } else if (e.code === \"ArrowLeft\") {\r\n        back();\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", onKey);\r\n    return () => window.removeEventListener(\"keydown\", onKey);\r\n  }, [next, back]);\r\n\r\n  if (!pool.length || !card) {\r\n    return (\r\n      <div className=\"rounded-3xl border border-white/10 bg-white/[0.045] p-6 md:p-8 text-center\">\r\n        <div className=\"text-lg font-semibold mb-1\">No cards available ðŸŽ‰</div>\r\n        <div className=\"text-sm text-zinc-300/80\">\r\n          Add or switch decks to start learning.\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const answerText = getAnswerText(card);\r\n\r\n  return (\r\n    <div className=\"space-y-5\">\r\n      {/* Header row */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"text-xs uppercase tracking-wider text-emerald-300\">\r\n          Learn â€¢ {deck}\r\n        </div>\r\n        <div className=\"text-xs px-3 py-1 rounded-full bg-white/[0.06] border border-white/10\">\r\n          {index + 1}/{pool.length}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Flip card */}\r\n      <div\r\n        className=\"relative w-full h-[280px] sm:h-[320px] md:h-[360px] [perspective:1200px]\"\r\n        onClick={() => setFlipped((f) => !f)}\r\n      >\r\n        <div\r\n          className={\r\n            \"absolute inset-0 transition-transform duration-500 [transform-style:preserve-3d] rounded-2xl \" +\r\n            (flipped ? \"[transform:rotateY(180deg)]\" : \"\")\r\n          }\r\n        >\r\n          {/* Front */}\r\n          <div className=\"absolute inset-0 rounded-2xl border border-white/10 bg-white/[0.055] backdrop-blur-xl shadow-2xl shadow-black/30 p-5 sm:p-6 [backface-visibility:hidden] flex\">\r\n            <div className=\"m-auto text-center\">\r\n              <div className=\"text-[11px] uppercase tracking-wider text-emerald-300 mb-2\">\r\n                Prompt\r\n              </div>\r\n              <div className=\"text-lg md:text-xl font-medium leading-relaxed\">\r\n                {card.prompt}\r\n              </div>\r\n              <div className=\"mt-3 text-[12px] text-zinc-400\">\r\n                Click or press <span className=\"text-white/90 font-medium\">Space</span> to\r\n                reveal\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Back */}\r\n          <div className=\"absolute inset-0 rounded-2xl border border-white/10 bg-white/[0.07] backdrop-blur-xl shadow-2xl shadow-black/30 p-5 sm:p-6 [backface-visibility:hidden] [transform:rotateY(180deg)] flex\">\r\n            <div className=\"m-auto text-center max-w-2xl\">\r\n              <div className=\"text-[11px] uppercase tracking-wider text-emerald-300 mb-2\">\r\n                Answer\r\n              </div>\r\n              <div className=\"text-lg md:text-xl font-semibold whitespace-pre-wrap\">\r\n                {answerText}\r\n              </div>\r\n              {card.explain && (\r\n                <div className=\"mt-3 text-sm text-zinc-300/90\">{card.explain}</div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <button\r\n          onClick={back}\r\n          className=\"px-4 py-2 rounded-xl bg-white/[0.06] border border-white/10 hover:bg-white/[0.1] transition\"\r\n        >\r\n          Back\r\n        </button>\r\n        <button\r\n          onClick={next}\r\n          className=\"px-4 py-2 rounded-xl bg-emerald-500/90 hover:bg-emerald-500 text-black font-medium transition\"\r\n        >\r\n          Next\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Learn","BANK","deck","useStore","pool","useMemo","selectByDeck","index","setIndex","useState","flipped","setFlipped","card","useEffect","next","useCallback","length","i","back","onKey","e","target","tagName","code","preventDefault","f","window","addEventListener","removeEventListener","_jsxs","className","children","_jsx","answerText","_card$options$card$an","_card$options","_card$answer","type","options","answerIndex","answerBool","Array","isArray","answerIndexes","map","_card$options2","filter","Boolean","join","answer","pairs","_ref","left","right","concat","getAnswerText","onClick","prompt","explain"],"sourceRoot":""}